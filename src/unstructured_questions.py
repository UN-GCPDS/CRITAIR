# UNSTRUCTURED QUESTIONS
# Contextualized RETIE questions for precision and response time analysis

unstructured_questions = [
    "Pregunta:¿En qué consiste la obligación de tener una conexión a tierra en una instalación eléctrica? Contexto: El Reglamento Técnico de Instalaciones Eléctricas (RETIE) establece que todas las instalaciones eléctricas deben contar con un sistema de puesta a tierra adecuado. Este sistema tiene como función proteger tanto a las personas como a los equipos, disipando corrientes de falla hacia el suelo. La conexión a tierra debe cumplir con requisitos específicos de resistencia y diseño, y debe ser verificada mediante pruebas de continuidad y resistividad del terreno.",
    
    "Pregunta: ¿Cuáles son las exigencias del RETIE respecto a los tableros eléctricos en instalaciones residenciales? Contexto: Según el RETIE, los tableros eléctricos en viviendas deben cumplir con una serie de condiciones mínimas de seguridad y funcionalidad. Estos deben estar fabricados con materiales no combustibles y contar con una puerta de protección. Se exige que tengan una barra de tierra y una barra de neutro claramente diferenciadas. Además, los circuitos deben estar debidamente rotulados y organizados para facilitar las labores de mantenimiento. El tablero debe estar ubicado en un sitio accesible, seco y libre de obstáculos. También debe contar con protección contra sobrecargas y cortocircuitos mediante interruptores termo-magnéticos o dispositivos equivalentes. En zonas húmedas o exteriores, el tablero debe ser de tipo intemperie (grado de protección IP adecuado). Es fundamental que los conductores estén organizados y protegidos para evitar el sobrecalentamiento, y que exista una correcta identificación de fases. Todas estas medidas buscan garantizar la seguridad de los usuarios y facilitar las tareas de inspección y mantenimiento por parte de personal calificado.",
    
    "Pregunta: ¿Qué condiciones debe cumplir una acometida eléctrica aérea según la normativa colombiana? Contexto: La acometida eléctrica aérea es el tramo de cable que conecta la red de distribución eléctrica de la empresa prestadora del servicio con el punto de entrada del usuario. El RETIE establece que esta acometida debe cumplir con ciertas condiciones técnicas y de seguridad para garantizar el suministro continuo y minimizar riesgos. Debe utilizar conductores aislados con capacidad de soportar la tensión de operación, y estar instalada a una altura mínima de 3.5 metros sobre zonas de tránsito peatonal, y más de 5 metros sobre zonas de tránsito vehicular. Los apoyos deben ser rígidos y estar anclados firmemente a las estructuras, y deben resistir esfuerzos mecánicos derivados del viento o peso del cableado. La acometida no debe pasar sobre piscinas, tejados metálicos ni zonas de alto riesgo, y debe estar libre de obstáculos. Además, los empalmes deben hacerse con conectores apropiados, sin exposición de conductores pelados. El punto de unión con el sistema interno del usuario debe contar con una caja de medidor debidamente certificada y con protección contra sobretensiones. La acometida debe ser inspeccionada por un organismo de inspección acreditado antes de su puesta en servicio.",
    
    "Pregunta: ¿Cuáles son los requisitos técnicos que debe cumplir un sistema de iluminación de emergencia en una edificación según el RETIE? Contexto: El RETIE exige que las edificaciones que alberguen personas, especialmente aquellas de uso público o con ocupación masiva, cuenten con sistemas de iluminación de emergencia que garanticen la visibilidad en caso de falla del suministro eléctrico. Esta iluminación debe activarse automáticamente cuando se interrumpe la fuente principal de energía y debe mantenerse activa durante un tiempo mínimo de 60 minutos. La intensidad de la luz debe ser suficiente para permitir la evacuación segura y debe estar distribuida en zonas críticas como pasillos, escaleras, salidas de emergencia y puntos de reunión. Los dispositivos utilizados deben ser certificados por organismos acreditados y deben estar conectados a fuentes de energía autónomas, como baterías o grupos electrógenos. Además, es obligatorio realizar mantenimientos periódicos para asegurar su correcto funcionamiento. En el diseño del sistema debe contemplarse la no interferencia con otras instalaciones eléctricas, y los cables usados deben contar con aislamiento apropiado para condiciones de emergencia. El RETIE también estipula que debe existir un sistema de señalización fotoluminiscente o alimentado por la iluminación de emergencia para guiar a los ocupantes hacia las salidas. Finalmente, todo el sistema debe ser verificado por un Organismo de Inspección acreditado para asegurar su conformidad antes de la puesta en funcionamiento.",
    
    "Pregunta: ¿Qué disposiciones establece el RETIE sobre la protección contra descargas atmosféricas en edificaciones? Contexto: La protección contra descargas atmosféricas es fundamental para la seguridad de personas, edificaciones y equipos eléctricos. El RETIE establece criterios claros para determinar si una edificación requiere un Sistema de Protección contra Rayos (SPCR). Esta necesidad se evalúa mediante un análisis de riesgo que tiene en cuenta factores como la ubicación geográfica, la altura de la estructura, su uso y la densidad de rayos de la zona. Una vez determinada la necesidad, el sistema debe diseñarse siguiendo normas técnicas internacionales como la IEC 62305. El sistema comprende tres partes principales: el sistema de captación (pararrayos o elementos metálicos expuestos), el sistema de bajada (conductores que canalizan la corriente hacia tierra) y el sistema de puesta a tierra (que disipa la energía al subsuelo). El RETIE exige que estos sistemas estén hechos con materiales resistentes a la corrosión, tengan un calibre mínimo y estén conectados de manera continua sin empalmes defectuosos. Además, la resistencia de puesta a tierra debe ser inferior a 10 ohmios para garantizar una disipación eficiente. Se deben evitar trayectorias con ángulos pronunciados o cercanía a elementos inflamables. Es necesario implementar dispositivos de protección contra sobretensiones (DPS) en los tableros eléctricos internos para proteger los equipos sensibles. También es obligatorio realizar pruebas periódicas de resistencia a tierra y mantenimiento de las partes expuestas del sistema. Todo diseño debe ser firmado por un ingeniero electricista y verificado por un organismo acreditado antes de su uso. Las edificaciones industriales, centros de datos, hospitales y escuelas, suelen estar obligadas a implementar estos sistemas, dada la alta criticidad de sus operaciones y la necesidad de proteger vidas humanas.",
    
    "Pregunta: ¿Qué condiciones impone el RETIE sobre el uso de canalizaciones eléctricas en zonas húmedas o con presencia de agentes corrosivos? Contexto: Las instalaciones eléctricas en ambientes húmedos o corrosivos representan un riesgo importante si no se diseñan correctamente. Por ello, el RETIE establece una serie de requisitos específicos para canalizaciones en este tipo de zonas. En primer lugar, se exige el uso de canalizaciones estancas, que impidan la entrada de agua o vapores. Estas canalizaciones deben tener un grado de protección IP no inferior a IP65, y los materiales deben ser resistentes a la corrosión, como PVC reforzado, acero inoxidable o galvanizado, o tubería plástica de alta resistencia. Los accesorios utilizados en la canalización, como codos, uniones, conectores y abrazaderas, deben tener el mismo nivel de protección y ser compatibles con el tipo de canalización. En ambientes con gases corrosivos o vapores salinos (como plantas industriales o zonas costeras), se recomienda el uso de recubrimientos especiales o pinturas anticorrosivas. Además, el diseño debe evitar acumulaciones de agua, con pendientes y drenajes adecuados. Las conexiones eléctricas en estos ambientes deben realizarse en cajas herméticas con prensaestopas o sellos adecuados. El conductor debe estar claramente identificado y protegido mediante aislamiento doble o materiales resistentes al calor y la humedad. El RETIE prohíbe el uso de canaletas abiertas o bandejas sin cubierta en estos ambientes. Además, debe garantizarse la continuidad del conductor de protección (tierra) en toda la instalación. La inspección de estas instalaciones es más rigurosa, y se exige una declaración de conformidad por parte del diseñador, el instalador y el organismo de inspección. Finalmente, se deben realizar mantenimientos periódicos, retirando corrosión, verificando continuidad y cambiando partes defectuosas. Estas medidas son esenciales para prevenir cortocircuitos, choques eléctricos y deterioro prematuro del sistema.",
    
    "Pregunta: ¿Cómo se aplica el concepto de selectividad en protecciones eléctricas según el RETIE, y por qué es crítico para la seguridad de una instalación? Contexto: El concepto de selectividad en protecciones eléctricas es clave para garantizar que una falla en un sistema eléctrico sea aislada sin comprometer el funcionamiento del resto de la instalación. El RETIE reconoce este principio como parte esencial del diseño seguro de sistemas de distribución de energía. La selectividad se logra cuando los dispositivos de protección, como interruptores automáticos, fusibles o relés, están configurados de forma que el dispositivo más cercano a la falla sea el único que actúe. Esto evita que se interrumpa el suministro eléctrico en áreas no afectadas. Por ejemplo, si ocurre un cortocircuito en un tomacorriente de una oficina, lo ideal es que solo el interruptor del circuito de esa oficina se dispare, sin afectar otros pisos o áreas del edificio. Para lograrlo, se deben coordinar los tiempos de disparo, curvas de respuesta y capacidades de corriente de los dispositivos. Esto implica conocer el tipo de cargas, las distancias entre dispositivos, y la impedancia de las líneas. El RETIE establece que se deben usar protecciones con curvas temporales adecuadas (curvas B, C, D, etc.), y que estas deben coordinarse desde el nivel más bajo (circuitos terminales) hasta el más alto (alimentación general). También se deben considerar dispositivos diferenciales para protección contra contactos indirectos. En sistemas trifásicos, el desequilibrio entre fases puede disparar protecciones no deseadas si no hay coordinación adecuada. Además, la selectividad no solo aplica en baja tensión, sino también en media tensión, donde se utilizan relés de protección digital programables. Una mala coordinación puede llevar a apagones innecesarios, mayor riesgo de incendio por sobrecorriente no detectada, o pérdida de información crítica en sistemas informáticos. El RETIE exige pruebas de coordinación y simulación antes de la puesta en marcha. Finalmente, en instalaciones críticas como hospitales, aeropuertos o centros de datos, la selectividad no solo es técnica, sino vital para la continuidad del servicio.",
    
    "Pregunta: ¿Cuáles son los principales aspectos que regula el RETIE en el diseño, construcción y mantenimiento de subestaciones eléctricas de media tensión? Contexto: El RETIE establece un conjunto de requisitos técnicos y de seguridad que deben cumplirse en el diseño, construcción, montaje, operación y mantenimiento de subestaciones eléctricas de media tensión (MT), ya que estas son fundamentales en la distribución de energía para uso residencial, industrial y comercial. Las subestaciones de MT operan en el rango de 1 kV a 57,5 kV y son puntos críticos donde se transforma y se controla el flujo de energía, por lo que un error de diseño o mantenimiento puede tener consecuencias graves en la seguridad de las personas, el medio ambiente y la confiabilidad del servicio. En cuanto al diseño, el RETIE establece que debe ser realizado por un profesional competente, con matrícula profesional vigente. Debe contemplarse el estudio de cargas, la capacidad de transformación, los niveles de cortocircuito, la coordinación de protecciones, el tipo de aislamiento (aire, SF6, resina epóxica), los esquemas unifilares y la selectividad del sistema. El diseño debe garantizar accesibilidad segura, rutas de evacuación de calor, ventilación adecuada, y debe considerar la ubicación de equipos como transformadores, celdas de MT, barras, tableros de control, y sistemas de puesta a tierra. El sistema de puesta a tierra debe ser diseñado para garantizar una resistencia inferior a 10 ohmios y debe incluir conductores desnudos enterrados, varillas o mallas de cobre, conectores apropiados y protección contra corrosión. Es obligatorio realizar mediciones periódicas con telurómetro y registrar los resultados. Todo el sistema debe estar interconectado: carcasa de equipos, barras, neutros y protecciones metálicas. En cuanto a la construcción, los materiales y equipos utilizados deben estar certificados por organismos acreditados. Las obras civiles deben incluir cámaras subterráneas, canalizaciones, bandejas, bases de concreto con aislamiento adecuado, drenaje, señalización de riesgo y cerramiento perimetral con control de acceso. Las distancias mínimas de seguridad entre equipos vivos y partes metálicas accesibles deben ser respetadas, y los conductores de MT deben tener aislamiento seco y estar rotulados. La protección contra sobrecorrientes se logra mediante fusibles limitadores, interruptores automáticos y relés electrónicos programables. Estos dispositivos deben tener características de disparo adecuadas a la naturaleza de la carga, y estar calibrados por personal calificado. Además, el RETIE exige la implementación de protección contra arco eléctrico, ya que una falla en equipos de MT puede generar arcos de alta energía que causen explosiones o incendios. El mantenimiento debe realizarse al menos una vez al año y debe incluir la inspección de aislamientos, limpieza de contactos, medición de resistencia de aislamiento con megóhmetro, verificación de temperatura con cámara térmica, y actualización de protecciones. Cualquier intervención debe quedar registrada en un historial de mantenimiento. Las subestaciones deben contar con extintores tipo CO₂, sistemas de iluminación de emergencia, y señalización visible. La operación debe ser realizada únicamente por personal autorizado, con equipos de protección personal (EPP) como guantes dieléctricos, botas y visores. En zonas rurales o áreas industriales, el diseño puede incluir subestaciones compactas tipo pedestal o subestaciones aéreas, en cuyo caso el RETIE exige condiciones especiales para evitar accesos no autorizados y asegurar la estabilidad mecánica de las estructuras. Finalmente, antes de entrar en operación, toda subestación debe ser inspeccionada por un Organismo de Inspección Acreditado (OIA), que emitirá un concepto de conformidad con base en las pruebas, registros y esquemas presentados. Solo entonces puede conectarse al sistema de distribución y ponerse en servicio.",
    
    "Pregunta: ¿Cómo regula el RETIE la integración de sistemas fotovoltaicos en instalaciones conectadas a la red eléctrica? Contexto: El auge de la generación distribuida mediante sistemas fotovoltaicos ha llevado al RETIE a desarrollar un marco regulatorio específico para su integración segura y eficiente en instalaciones conectadas a la red pública. Esta integración debe contemplar aspectos eléctricos, normativos, de calidad de energía, protección, puesta a tierra, y procedimientos de inspección. En primer lugar, el RETIE clasifica los sistemas fotovoltaicos como fuentes de generación no convencional que pueden inyectar energía a la red. Por tanto, deben cumplir con lo estipulado en la Resolución CREG 030 de 2018, la NTC 2050 y el mismo RETIE. Un sistema fotovoltaico consta típicamente de paneles solares, estructuras de soporte, inversores, protecciones DC y AC, cableado, sistema de monitoreo y, en algunos casos, baterías de almacenamiento. El diseño del sistema debe ser realizado por un profesional electricista, e incluir el cálculo de la demanda energética, la ubicación e inclinación de los módulos, la protección contra sobretensiones y fallas, y la selección de inversores certificados con funciones de desconexión automática en caso de corte en la red. El sistema de conexión a tierra debe asegurar la continuidad del conductor de protección desde el marco metálico de los paneles, pasando por las estructuras, hasta el sistema general de puesta a tierra. Los módulos deben estar conectados de forma tal que eviten diferencias de potencial entre partes metálicas. Si existen baterías, estas deben contar con su propio sistema de protección y contención química, con ventilación adecuada. El cableado DC entre paneles e inversores debe cumplir con los siguientes requisitos: conductores con aislamiento UV, libre de halógenos, tipo PV1-F o equivalente, protegido contra roedores, y con identificaciones claras de polaridad. Los conectores deben ser tipo MC4 o equivalentes certificados. Los inversores deben ser instalados en lugares ventilados, accesibles, y contar con protección IP adecuada al ambiente. El RETIE exige también un sistema de desconexión de emergencia, tanto en DC como en AC, fácilmente identificable y accesible, especialmente para el personal de mantenimiento o respuesta a emergencias. Debe haber etiquetas de advertencia visibles que indiquen 'Fuente de energía fotovoltaica activa', 'Riesgo de tensión aún desconectado', y diagramas unifilares cerca del punto de conexión. El inversor debe tener certificación de anti-isla, lo que significa que debe desconectarse automáticamente en caso de que la red se caiga, evitando retroalimentación que pueda poner en riesgo a los operarios de mantenimiento. Esta función debe verificarse con pruebas funcionales. En sistemas interconectados, debe instalarse un contador bidireccional autorizado por la empresa distribuidora, que mida la energía inyectada y consumida. El tablero debe tener protecciones adecuadas, incluyendo interruptores termomagnéticos y diferenciales para garantizar seguridad en fallas por corriente de fuga. Además, el RETIE obliga a que el sistema cuente con un estudio de impacto en la calidad de energía, incluyendo análisis de armónicos, desbalances y flicker. El instalador debe entregar una memoria técnica, con esquemas eléctricos, cálculos de cortocircuito, certificaciones de equipos, y protocolos de prueba.",
    
    "Pregunta: ¿Qué lineamientos establece el RETIE sobre la inspección, pruebas y puesta en servicio de instalaciones eléctricas en edificaciones nuevas? Contexto: El Reglamento Técnico de Instalaciones Eléctricas (RETIE), en su esencia, busca preservar la seguridad de las personas, los bienes y el medio ambiente frente a los riesgos eléctricos. En este contexto, uno de los aspectos fundamentales regulados por el RETIE es la verificación técnica de las instalaciones eléctricas antes de su puesta en servicio. Esto se concreta en un conjunto de lineamientos específicos que deben seguirse al pie de la letra en edificaciones nuevas, antes de ser energizadas por primera vez. El proceso de verificación y puesta en marcha no es opcional. Toda instalación eléctrica nueva, así como aquellas ampliadas o modificadas significativamente, deben ser inspeccionadas por un Organismo de Inspección Acreditado (OIA). Esta inspección incluye una revisión documental, visual y funcional del sistema, y solo después de su aprobación se puede autorizar la conexión a la red pública o a la fuente principal de suministro. 1. Alcance de la inspección El RETIE define que la inspección debe abarcar todos los elementos de la instalación eléctrica, incluyendo: Canalizaciones y bandejas Conductores, empalmes y terminales Tableros eléctricos y sistemas de protección Sistemas de puesta a tierra y pararrayo Dispositivos de protección contra sobretensiones Sistemas de iluminación y tomacorrientes Cargas especiales (motores, aires acondicionados, UPS, etc.) Sistemas de respaldo (plantas, bancos de baterías) La verificación incluye también las condiciones físicas de los espacios técnicos, accesos, señalización, ventilación, cumplimiento de distancias mínimas y grado de protección (IP/NEMA) en función del ambiente. 2. Pruebas exigidas antes de la puesta en servici El RETIE estipula que el instalador debe realizar y documentar un conjunto mínimo de pruebas eléctricas, entre ellas: Continuidad de conductores de protección (PE) Se verifica que todas las masas metálicas estén interconectadas y que exista continuidad eléctrica entre ellas y la barra de tierra. Resistencia de puesta a tierr Debe medirse con telurómetro. El valor típico exigido es menor a 10 ohmios para sistemas de protección, aunque puede variar según el diseño. Resistencia de aislamiento Entre conductores activos y tierra, así como entre fases. Se utiliza un megóhmetro, y los valores mínimos deben ser superiores a 1 MΩ dependiendo del voltaje nominal. Verificación de polaridad Especialmente en sistemas monofásicos, se debe asegurar que la fase, el neutro y la tierra estén correctamente dispuestos en cada punto de uso.Prueba funcional de protecciones Se deben simular fallas para verificar la operación de interruptores termomagnéticos, diferenciales, y dispositivos contra sobretensiones. mPrueba de interruptores diferencialesLa corriente de disparo no debe exceder los valores establecidos (típicamente 30 mA para protección de personas). Prueba de continuidad de conductores de equipotencialidadEn baños, cocinas, cuartos de máquinas, y zonas húmedas Cada una de estas pruebas debe registrarse en protocolos firmados por el instalador responsable, indicando valores, equipos utilizados, fecha y observaciones 3. Documentación requerida para la inspección Previo a la visita del OIA, se debe disponer de la siguiente documentación técnica, exigida por el RETIE: Memoria de cálculo de cargas y caídas de tensión Planos unifilares actualizados con simbología normalizada Esquema de puesta a tierr Códigos RETIE de los materiales usados Certificados de conformidad de productos (para canaletas, breakers, luminarias, conductores, tableros, etc.) Copia de la matrícula profesional del diseñador y del instalador Actas de pruebas y protocolos eléctricosLicencia ambiental o de construcción si aplica Carta de solicitud de inspección firmada Sin esta documentación, el OIA no puede emitir el Certificado de Conformidad, documento obligatorio para la conexión a la red. 4. Revisión del Organismo de Inspección El OIA verifica tanto la documentación como las condiciones físicas de la instalación. Para esto, realiza: Inspección visual: Se comprueba que los materiales usados coincidan con los certificados, que haya correcta identificación de fases, cableado ordenado, señalización visible, y cumplimiento de normas de accesibilidad y protección. Inspección técnica:n Se pueden repetir algunas pruebas clave para validar los resultados entregados. También se verifica el funcionamiento de cargas críticas, el sentido de rotación en motores trifásicos, y el cumplimiento de distancias de seguridad. Verificación normativa: Que los planos eléctricos cumplan con la NTC 2050, que las protecciones estén coordinadas y que la instalación no represente riesgo alguno. Si todo cumple, el OIA emite un certificado de conformidad RETIE, con vigencia determinada según el tipo de instalación. Si hay no conformidades, se otorgan plazos para corregirlas y se programa una reinspección. 5. Puesta en servicio Solo después de tener el certificado del OIA se puede solicitar a la empresa de energía la conexión de la edificación. Esta empresa puede hacer su propia inspección adicional. La puesta en servicio implica energizar el sistema, verificar consumos, comprobar operación de cargas, y monitorear que no existan fugas, sobrecalentamientos o disfunciones. 6. Sanciones por incumplimiento El RETIE establece que operar una instalación eléctrica sin inspección o sin certificado de conformidad es una falta grave, sancionable por la Superintendencia de Industria y Comercio (SIC). Además, en caso de accidente eléctrico, el responsable del diseño, montaje o supervisión puede enfrentar consecuencias penales y civiles. Las aseguradoras también pueden negar cobertura si no se cumplen estas disposiciones."
]

# Lista de modelos de IA para pruebas
ai_models = [
    "gpt-3.5-turbo", "gpt-4o", "gemini-2.0-flash-001", "gemini-2.5-pro-exp-03-25",
    "llama3.1", "llama3.2:1b", "qwen2.5:1.5b", "qwen2.5", "deepseek-r1:1.5b", "deepseek-r1"
]

# Función para obtener las preguntas de recomendación
def get_unstructured_questions():
    """
    Retorna la lista de preguntas contextualizadas del RETIE para análisis de recomendación.
    
    Returns:
        list: Lista de strings con las preguntas contextualizadas
    """
    return unstructured_questions

# Función para obtener la lista de modelos de IA
def get_ai_models():
    """
    Retorna la lista de modelos de IA disponibles para pruebas.
    
    Returns:
        list: Lista de strings con los nombres de los modelos
    """
    return ai_models

# Función para obtener una pregunta específica por índice
def get_unstructured_question_by_index(index):
    """
    Retorna una pregunta no estructurada específica por su índice.
    
    Args:
        index (int): Índice de la pregunta (0-based)
        
    Returns:
        str: La pregunta en el índice especificado
        
    Raises:
        IndexError: Si el índice está fuera del rango válido
    """
    if 0 <= index < len(unstructured_questions):
        return unstructured_questions[index]
    else:
        raise IndexError(f"Índice {index} fuera del rango. Rango válido: 0-{len(unstructured_questions)-1}")

# Función para obtener el número total de preguntas no estructuradas
def get_unstructured_questions_count():
    """
    Retorna el número total de preguntas no estructuradas disponibles.

    Returns:
        int: Número total de preguntas no estructuradas
    """
    return len(unstructured_questions)

# Función para obtener preguntas por temas del RETIE
def get_questions_by_retie_topics():
    """
    Retorna las preguntas organizadas por temas específicos del RETIE.
    
    Returns:
        dict: Diccionario con temas como claves y índices de preguntas como valores
    """
    topics = {
        "puesta_a_tierra": [0],  # Conexión a tierra
        "tableros_electricos": [1],  # Tableros residenciales
        "acometidas": [2],  # Acometidas aéreas
        "iluminacion_emergencia": [3],  # Sistemas de emergencia
        "proteccion_rayos": [4],  # Protección atmosférica
        "canalizaciones": [5],  # Zonas húmedas y corrosivas
        "selectividad": [6],  # Protecciones eléctricas
        "subestaciones": [7],  # Media tensión
        "fotovoltaicos": [8],  # Sistemas solares
        "inspeccion_puesta_servicio": [9]  # Inspecciones y pruebas
    }
    return topics

# Función para extraer solo la pregunta (sin contexto)
def extract_question_only(question_with_context):
    """
    Extrae solo la pregunta de un texto que contiene pregunta y contexto.
    
    Args:
        question_with_context (str): Texto completo con pregunta y contexto
        
    Returns:
        str: Solo la pregunta sin el contexto
    """
    # Buscar donde termina la pregunta (antes de "Contexto:")
    context_start = question_with_context.find("Contexto:")
    if context_start != -1:
        question_part = question_with_context[:context_start].strip()
        # Remover "Pregunta:" del inicio si existe
        if question_part.startswith("Pregunta:"):
            question_part = question_part[9:].strip()
        return question_part
    return question_with_context